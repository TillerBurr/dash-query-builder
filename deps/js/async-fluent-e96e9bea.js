"use strict";(self.webpackChunkdash_query_builder=self.webpackChunkdash_query_builder||[]).push([[350],{98314:(e,t,r)=>{r.d(t,{Z:()=>p});var n=r(65812),o=r.n(n),c=r(78492),i=r(4154),a=r(30649),l=function(){return l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},l.apply(this,arguments)},u=c.cQ.loadTree,f=c.cQ.checkTree,s=c.cQ.getTree;const p=function(e){var t=e.id,r=e.tree,p=e.loadFormat,g=e.fields,y=e.config,m=e.setProps,b=e.spelFormat,d=e.jsonLogicFormat,v=e.alwaysShowActionButtons,h=e.styleConfig,O=(0,n.useRef)(null),j=(0,n.useRef)(!0),F=(0,i.Jnq)([h,y]),w=l(l({},F),{fields:g}),_=e[p]||a.do,E=(0,a.sg)(p,_,w),T=(0,n.useState)({immutableTree:E,config:w}),q=T[0],P=T[1];(0,n.useEffect)((function(){if(O.current!==r){var e=u(r),t={sqlFormat:c.cQ.sqlFormat(e,q.config),tree:r,jsonLogicFormat:c.cQ.jsonLogicFormat(e,q.config).logic,mongoDBFormat:c.cQ.mongodbFormat(e,q.config),queryString:c.cQ.queryString(e,q.config),elasticSearchFormat:c.cQ.elasticSearchFormat(e,q.config),spelFormat:c.cQ.spelFormat(e,q.config),queryBuilderFormat:c.cQ.queryBuilderFormat(e,q.config)};P((function(t){return l(l({},t),{immutableTree:e})})),m(l({},t)),O.current=r}}),[r]),(0,n.useEffect)((function(){if("spelFormat"===p&&void 0!==b){var e=(0,a.sg)("spelFormat",b,q.config);P((function(t){return l(l({},t),{immutableTree:e})})),m({tree:s(e)})}}),[b]),(0,n.useEffect)((function(){if("jsonLogicFormat"===p&&void 0!==d){var e=(0,a.sg)("jsonLogicFormat",d,q.config);P((function(t){return l(l({},t),{immutableTree:e})})),m({tree:s(e)})}}),[d]),(0,n.useEffect)((function(){if(j.current)j.current=!1;else{m({tree:a.do});var e=l(l({},q.config),{fields:g});P((function(t){return l(l({},t),{immutableTree:a._e,config:e})}))}}),[g]);var Q=(0,n.useCallback)((function(e,t){P((function(r){return l(l({},r),{immutableTree:e,config:t})}));var r=s(f(e,t));m({tree:r})}),[]),S=(0,n.useCallback)((function(e){return o().createElement("div",{className:"query-builder-container",style:{padding:"10px"}},o().createElement("div",{className:"query-builder "+(v?"":"qb-lite")},o().createElement(c.Ib,l({},e))))}),[v]);return o().createElement("div",{id:t},o().createElement(c.AE,l({},q.config,{value:q.immutableTree,onChange:Q,renderBuilder:S})))}},94930:(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});var n=r(98314),o=r(65812),c=r.n(o),i=r(41040),a=(r(63007),function(){return a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)});const l=function(e){return c().createElement(n.Z,a({},e,{styleConfig:i.NM}))}},96583:(e,t,r)=>{r.d(t,{ZT:()=>o,_T:()=>i,ev:()=>l,gn:()=>a,pi:()=>c});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var c=function(){return c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},c.apply(this,arguments)};function i(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}function a(e,t,r,n){var o,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(c<3?o(i):c>3?o(t,r,i):o(t,r))||i);return c>3&&i&&Object.defineProperty(t,r,i),i}function l(e,t,r){if(r||2===arguments.length)for(var n,o=0,c=t.length;o<c;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}Object.create,Object.create}}]);