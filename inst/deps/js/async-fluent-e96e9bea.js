"use strict";(self.webpackChunkdash_query_builder=self.webpackChunkdash_query_builder||[]).push([[303],{91587:(e,t,r)=>{r.d(t,{A:()=>p});var n=r(40295),o=r.n(n),i=r(63250),c=r(38552),a=r(85111),l=function(){return l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},l.apply(this,arguments)},u=i.Aq.loadTree,f=i.Aq.checkTree,s=i.Aq.getTree;const p=function(e){for(var t=e.id,r=e.tree,p=e.loadFormat,d=e.fields,g=e.config,m=e.setProps,y=e.spelFormat,v=e.jsonLogicFormat,b=e.alwaysShowActionButtons,O=e.styleConfig,h=(0,n.useRef)(null),j=(0,n.useRef)(!0),q={settings:void 0,operators:void 0,widgets:void 0,conjunctions:void 0,types:void 0,fields:void 0,ctx:{utils:void 0,W:void 0,O:void 0,components:void 0}},F=0,w=Object.entries(O);F<w.length;F++){var A=w[F],E=A[0],T=A[1];if(g&&void 0!==g[E]){var _=g[E];q[E]=(0,c.Um7)([T,_])}else q[E]=T;g&&delete g[E]}q=(0,c.Um7)([q,g]);var C=l(l({},q),{fields:d}),P=e[p]||a.in,S=(0,a.xe)(p,P,C),x=(0,n.useState)({immutableTree:S,config:C}),k=x[0],B=x[1];(0,n.useEffect)((function(){if(h.current!==r){var e=u(r),t={sqlFormat:i.Aq.sqlFormat(e,k.config),tree:r,jsonLogicFormat:i.Aq.jsonLogicFormat(e,k.config).logic,mongoDBFormat:i.Aq.mongodbFormat(e,k.config),queryString:i.Aq.queryString(e,k.config),elasticSearchFormat:i.Aq.elasticSearchFormat(e,k.config),spelFormat:i.Aq.spelFormat(e,k.config),queryBuilderFormat:i.Aq.queryBuilderFormat(e,k.config)};B((function(t){return l(l({},t),{immutableTree:e})})),m(l({},t)),h.current=r}}),[r]),(0,n.useEffect)((function(){if("spelFormat"===p&&void 0!==y){var e=(0,a.xe)("spelFormat",y,k.config);B((function(t){return l(l({},t),{immutableTree:e})})),m({tree:s(e)})}}),[y]),(0,n.useEffect)((function(){if("jsonLogicFormat"===p&&void 0!==v){var e=(0,a.xe)("jsonLogicFormat",v,k.config);B((function(t){return l(l({},t),{immutableTree:e})})),m({tree:s(e)})}}),[v]),(0,n.useEffect)((function(){if(j.current)j.current=!1;else{m({tree:a.in});var e=l(l({},k.config),{fields:d});B((function(t){return l(l({},t),{immutableTree:a.wE,config:e})}))}}),[d]);var L=(0,n.useCallback)((function(e,t){B((function(r){return l(l({},r),{immutableTree:e,config:t})}));var r=s(f(e,t));m({tree:r})}),[]),R=(0,n.useCallback)((function(e){return o().createElement("div",{className:"query-builder-container",style:{padding:"10px"}},o().createElement("div",{className:"query-builder "+(b?"":"qb-lite")},o().createElement(i.M$,l({},e))))}),[b]);return o().createElement("div",{id:t},o().createElement(i.XK,l({},k.config,{value:k.immutableTree,onChange:L,renderBuilder:R})))}},84718:(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});var n=r(91587),o=r(40295),i=r.n(o),c=r(9324),a=(r(37664),function(){return a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)});const l=function(e){return i().createElement(n.A,a({},e,{styleConfig:c.ju}))}},31635:(e,t,r)=>{r.d(t,{C6:()=>o,Cg:()=>a,Cl:()=>i,Tt:()=>c,fX:()=>l});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i=function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function c(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}function a(e,t,r,n){var o,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(c=(i<3?o(c):i>3?o(t,r,c):o(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c}function l(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError}}]);