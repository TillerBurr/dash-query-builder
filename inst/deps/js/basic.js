"use strict";(self.webpackChunkdash_query_builder=self.webpackChunkdash_query_builder||[]).push([[53],{98314:(e,r,t)=>{t.d(r,{Z:()=>m});var n=t(65812),o=t.n(n),c=t(78492),i=t(4154),a=t(30649),u=function(){return u=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e},u.apply(this,arguments)},l=c.cQ.loadTree,f=c.cQ.checkTree,s=c.cQ.getTree;const m=function(e){var r=e.id,t=e.tree,m=e.loadFormat,g=e.fields,d=e.config,b=e.setProps,p=e.spelFormat,v=e.jsonLogicFormat,F=e.alwaysShowActionButtons,y=e.styleConfig,h=(0,n.useRef)(null),q=(0,n.useRef)(!0),E=(0,i.Jnq)([y,d]),Q=u(u({},E),{fields:g}),T=e[m]||a.do,j=(0,a.sg)(m,T,Q),k=(0,n.useState)({immutableTree:j,config:Q}),C=k[0],w=k[1];(0,n.useEffect)((function(){if(h.current!==t){var e=l(t),r={sqlFormat:c.cQ.sqlFormat(e,C.config),tree:t,jsonLogicFormat:c.cQ.jsonLogicFormat(e,C.config).logic,mongoDBFormat:c.cQ.mongodbFormat(e,C.config),queryString:c.cQ.queryString(e,C.config),elasticSearchFormat:c.cQ.elasticSearchFormat(e,C.config),spelFormat:c.cQ.spelFormat(e,C.config),queryBuilderFormat:c.cQ.queryBuilderFormat(e,C.config)};w((function(r){return u(u({},r),{immutableTree:e})})),b(u({},r)),h.current=t}}),[t]),(0,n.useEffect)((function(){if("spelFormat"===m&&void 0!==p){var e=(0,a.sg)("spelFormat",p,C.config);w((function(r){return u(u({},r),{immutableTree:e})})),b({tree:s(e)})}}),[p]),(0,n.useEffect)((function(){if("jsonLogicFormat"===m&&void 0!==v){var e=(0,a.sg)("jsonLogicFormat",v,C.config);w((function(r){return u(u({},r),{immutableTree:e})})),b({tree:s(e)})}}),[v]),(0,n.useEffect)((function(){if(q.current)q.current=!1;else{b({tree:a.do});var e=u(u({},C.config),{fields:g});w((function(r){return u(u({},r),{immutableTree:a._e,config:e})}))}}),[g]);var O=(0,n.useCallback)((function(e,r){w((function(t){return u(u({},t),{immutableTree:e,config:r})}));var t=s(f(e,r));b({tree:t})}),[]),S=(0,n.useCallback)((function(e){return o().createElement("div",{className:"query-builder-container",style:{padding:"10px"}},o().createElement("div",{className:"query-builder "+(F?"":"qb-lite")},o().createElement(c.Ib,u({},e))))}),[F]);return o().createElement("div",{id:r},o().createElement(c.AE,u({},C.config,{value:C.immutableTree,onChange:O,renderBuilder:S})))}},7852:(e,r,t)=>{t.r(r),t.d(r,{default:()=>u});var n=t(98314),o=t(65812),c=t.n(o),i=t(78492),a=(t(35823),function(){return a=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e},a.apply(this,arguments)});const u=function(e){return c().createElement(n.Z,a({},e,{styleConfig:i.I4}))}}}]);