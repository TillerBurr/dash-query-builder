"use strict";(self.webpackChunkdash_query_builder=self.webpackChunkdash_query_builder||[]).push([[259],{12135:(e,r,n)=>{n.r(r),n.d(r,{default:()=>i});var t=n(98314),c=n(65812),a=n.n(c),u=n(95188),o=(n(28051),function(){return o=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var c in r=arguments[n])Object.prototype.hasOwnProperty.call(r,c)&&(e[c]=r[c]);return e},o.apply(this,arguments)});const i=function(e){return a().createElement(t.Z,o({},e,{styleConfig:u.qU}))}},98314:(e,r,n)=>{n.d(r,{Z:()=>g});var t=n(65812),c=n.n(t),a=n(78492),u=n(4154),o=n(30649),i=function(){return i=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var c in r=arguments[n])Object.prototype.hasOwnProperty.call(r,c)&&(e[c]=r[c]);return e},i.apply(this,arguments)},s=a.cQ.loadTree,f=a.cQ.checkTree,l=a.cQ.getTree;const g=function(e){var r=e.id,n=e.tree,g=e.loadFormat,m=e.fields,b=e.config,d=e.setProps,h=e.spelFormat,p=e.jsonLogicFormat,v=e.alwaysShowActionButtons,y=e.styleConfig,k=(0,t.useRef)(null),F=(0,t.useRef)(!0),w=(0,u.Jnq)([y,b]),q=i(i({},w),{fields:m}),O=e[g]||o.do,E=(0,o.sg)(g,O,q),C=(0,t.useState)({immutableTree:E,config:q}),j=C[0],Q=C[1];(0,t.useEffect)((function(){if(k.current!==n){var e=s(n),r={sqlFormat:a.cQ.sqlFormat(e,j.config),tree:n,jsonLogicFormat:a.cQ.jsonLogicFormat(e,j.config).logic,mongoDBFormat:a.cQ.mongodbFormat(e,j.config),queryString:a.cQ.queryString(e,j.config),elasticSearchFormat:a.cQ.elasticSearchFormat(e,j.config),spelFormat:a.cQ.spelFormat(e,j.config),queryBuilderFormat:a.cQ.queryBuilderFormat(e,j.config)};Q((function(r){return i(i({},r),{immutableTree:e})})),d(i({},r)),k.current=n}}),[n]),(0,t.useEffect)((function(){if("spelFormat"===g&&void 0!==h){var e=(0,o.sg)("spelFormat",h,j.config);Q((function(r){return i(i({},r),{immutableTree:e})})),d({tree:l(e)})}}),[h]),(0,t.useEffect)((function(){if("jsonLogicFormat"===g&&void 0!==p){var e=(0,o.sg)("jsonLogicFormat",p,j.config);Q((function(r){return i(i({},r),{immutableTree:e})})),d({tree:l(e)})}}),[p]),(0,t.useEffect)((function(){if(F.current)F.current=!1;else{d({tree:o.do});var e=i(i({},j.config),{fields:m});Q((function(r){return i(i({},r),{immutableTree:o._e,config:e})}))}}),[m]);var T=(0,t.useCallback)((function(e,r){Q((function(n){return i(i({},n),{immutableTree:e,config:r})}));var n=l(f(e,r));d({tree:n})}),[]),x=(0,t.useCallback)((function(e){return c().createElement("div",{className:"query-builder-container",style:{padding:"10px"}},c().createElement("div",{className:"query-builder "+(v?"":"qb-lite")},c().createElement(a.Ib,i({},e))))}),[v]);return c().createElement("div",{id:r},c().createElement(a.AE,i({},j.config,{value:j.immutableTree,onChange:T,renderBuilder:x})))}},11341:(e,r,n)=>{n.d(r,{Ab:()=>t,Fr:()=>c,JM:()=>i,K$:()=>u,h5:()=>a,lK:()=>o});var t="comm",c="rule",a="decl",u="@import",o="@keyframes",i="@layer"},22282:(e,r,n)=>{n.d(r,{MY:()=>O});var t=n(11341),c=n(95139),a=1,u=1,o=0,i=0,s=0,f="";function l(e,r,n,t,c,o,i,s){return{value:e,root:r,parent:n,type:t,props:c,children:o,line:a,column:u,length:i,return:"",siblings:s}}function g(){return s=i>0?(0,c.uO)(f,--i):0,u--,10===s&&(u=1,a--),s}function m(){return s=i<o?(0,c.uO)(f,i++):0,u++,10===s&&(u=1,a++),s}function b(){return(0,c.uO)(f,i)}function d(){return i}function h(e,r){return(0,c.tb)(f,e,r)}function p(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function v(e){return(0,c.fy)(h(i-1,F(91===e?e+2:40===e?e+1:e)))}function y(e){for(;(s=b())&&s<33;)m();return p(e)>2||p(s)>3?"":" "}function k(e,r){for(;--r&&m()&&!(s<48||s>102||s>57&&s<65||s>70&&s<97););return h(e,d()+(r<6&&32==b()&&32==m()))}function F(e){for(;m();)switch(s){case e:return i;case 34:case 39:34!==e&&39!==e&&F(s);break;case 40:41===e&&F(e);break;case 92:m()}return i}function w(e,r){for(;m()&&e+s!==57&&(e+s!==84||47!==b()););return"/*"+h(r,i-1)+"*"+(0,c.Dp)(47===e?e:m())}function q(e){for(;!p(b());)m();return h(e,i)}function O(e){return function(e){return f="",e}(E("",null,null,null,[""],e=function(e){return a=u=1,o=(0,c.to)(f=e),i=0,[]}(e),0,[0],e))}function E(e,r,n,t,a,u,o,i,s){for(var f=0,l=0,h=o,p=0,F=0,O=0,T=1,x=1,R=1,S=0,A="",B=a,D=u,L=t,_=A;x;)switch(O=S,S=m()){case 40:if(108!=O&&58==(0,c.uO)(_,h-1)){-1!=(0,c.Cw)(_+=(0,c.gx)(v(S),"&","&\f"),"&\f",(0,c.Wn)(f?i[f-1]:0))&&(R=-1);break}case 34:case 39:case 91:_+=v(S);break;case 9:case 10:case 13:case 32:_+=y(O);break;case 92:_+=k(d()-1,7);continue;case 47:switch(b()){case 42:case 47:(0,c.R3)(j(w(m(),d()),r,n,s),s);break;default:_+="/"}break;case 123*T:i[f++]=(0,c.to)(_)*R;case 125*T:case 59:case 0:switch(S){case 0:case 125:x=0;case 59+l:-1==R&&(_=(0,c.gx)(_,/\f/g,"")),F>0&&(0,c.to)(_)-h&&(0,c.R3)(F>32?Q(_+";",t,n,h-1,s):Q((0,c.gx)(_," ","")+";",t,n,h-2,s),s);break;case 59:_+=";";default:if((0,c.R3)(L=C(_,r,n,f,l,a,i,A,B=[],D=[],h,u),u),123===S)if(0===l)E(_,r,L,L,B,u,h,i,D);else switch(99===p&&110===(0,c.uO)(_,3)?100:p){case 100:case 108:case 109:case 115:E(e,L,L,t&&(0,c.R3)(C(e,L,L,0,0,a,i,A,a,B=[],h,D),D),a,D,h,i,t?B:D);break;default:E(_,L,L,L,[""],D,0,i,D)}}f=l=F=0,T=R=1,A=_="",h=o;break;case 58:h=1+(0,c.to)(_),F=O;default:if(T<1)if(123==S)--T;else if(125==S&&0==T++&&125==g())continue;switch(_+=(0,c.Dp)(S),S*T){case 38:R=l>0?1:(_+="\f",-1);break;case 44:i[f++]=((0,c.to)(_)-1)*R,R=1;break;case 64:45===b()&&(_+=v(m())),p=b(),l=h=(0,c.to)(A=_+=q(d())),S++;break;case 45:45===O&&2==(0,c.to)(_)&&(T=0)}}return u}function C(e,r,n,a,u,o,i,s,f,g,m,b){for(var d=u-1,h=0===u?o:[""],p=(0,c.Ei)(h),v=0,y=0,k=0;v<a;++v)for(var F=0,w=(0,c.tb)(e,d+1,d=(0,c.Wn)(y=i[v])),q=e;F<p;++F)(q=(0,c.fy)(y>0?h[F]+" "+w:(0,c.gx)(w,/&\f/g,h[F])))&&(f[k++]=q);return l(e,r,n,0===u?t.Fr:s,f,g,m,b)}function j(e,r,n,a){return l(e,r,n,t.Ab,(0,c.Dp)(s),(0,c.tb)(e,2,-2),0,a)}function Q(e,r,n,a,u){return l(e,r,n,t.h5,(0,c.tb)(e,0,a),(0,c.tb)(e,a+1,-1),a,u)}},11909:(e,r,n)=>{n.d(r,{P:()=>u,q:()=>a});var t=n(11341),c=n(95139);function a(e,r){for(var n="",t=0;t<e.length;t++)n+=r(e[t],t,e,r)||"";return n}function u(e,r,n,u){switch(e.type){case t.JM:if(e.children.length)break;case t.K$:case t.h5:return e.return=e.return||e.value;case t.Ab:return"";case t.lK:return e.return=e.value+"{"+a(e.children,u)+"}";case t.Fr:if(!(0,c.to)(e.value=e.props.join(",")))return""}return(0,c.to)(n=a(e.children,u))?e.return=e.value+"{"+n+"}":""}},95139:(e,r,n)=>{n.d(r,{Cw:()=>o,Dp:()=>c,Ei:()=>l,R3:()=>g,Wn:()=>t,fy:()=>a,gx:()=>u,tb:()=>s,to:()=>f,uO:()=>i});var t=Math.abs,c=String.fromCharCode;function a(e){return e.trim()}function u(e,r,n){return e.replace(r,n)}function o(e,r,n){return e.indexOf(r,n)}function i(e,r){return 0|e.charCodeAt(r)}function s(e,r,n){return e.slice(r,n)}function f(e){return e.length}function l(e){return e.length}function g(e,r){return r.push(e),e}Object.assign}}]);